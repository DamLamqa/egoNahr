{"map":"{\"version\":3,\"sources\":[\"webpack/bootstrap\",\"/Users/houda/WebstormProjects/egoNahr/scripts/main.js\"],\"names\":[\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"modules\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"configurable\",\"enumerable\",\"get\",\"r\",\"value\",\"n\",\"__esModule\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"jsonConversion\",\"e\",\"Error\",\"code\",\"simulation\",\"tieList\",\"svg\",\"d3\",\"select\",\"width\",\"attr\",\"height\",\"scaleOrdinal\",\"schemeCategory20\",\"assignOriginParentNodeToChild\",\"actor\",\"originParent\",\"firstParent\",\"ID\",\"secondParent\",\"dragstarted\",\"event\",\"active\",\"alphaTarget\",\"restart\",\"fx\",\"x\",\"fy\",\"y\",\"dragged\",\"dragended\",\"id\",\"thisChild\",\"thisGrandChild\",\"centralActor\",\"getActorData\",\"offSpringList\",\"length\",\"j\",\"console\",\"log\",\"getCentralActor\",\"nodeList\",\"nodes\",\"links\",\"graph\",\"forceSimulation\",\"force\",\"forceLink\",\"forceManyBody\",\"strength\",\"forceCenter\",\"link\",\"append\",\"selectAll\",\"data\",\"enter\",\"node\",\"isActor\",\"drag\",\"on\",\"text\",\"fullName\",\"source\",\"target\",\"drawGraph\"],\"mappings\":\"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\",\"sourcesContent\":[\" \\t// The module cache\\n \\tvar installedModules = {};\\n\\n \\t// The require function\\n \\tfunction __webpack_require__(moduleId) {\\n\\n \\t\\t// Check if module is in cache\\n \\t\\tif(installedModules[moduleId]) {\\n \\t\\t\\treturn installedModules[moduleId].exports;\\n \\t\\t}\\n \\t\\t// Create a new module (and put it into the cache)\\n \\t\\tvar module = installedModules[moduleId] = {\\n \\t\\t\\ti: moduleId,\\n \\t\\t\\tl: false,\\n \\t\\t\\texports: {}\\n \\t\\t};\\n\\n \\t\\t// Execute the module function\\n \\t\\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\\n\\n \\t\\t// Flag the module as loaded\\n \\t\\tmodule.l = true;\\n\\n \\t\\t// Return the exports of the module\\n \\t\\treturn module.exports;\\n \\t}\\n\\n\\n \\t// expose the modules object (__webpack_modules__)\\n \\t__webpack_require__.m = modules;\\n\\n \\t// expose the module cache\\n \\t__webpack_require__.c = installedModules;\\n\\n \\t// define getter function for harmony exports\\n \\t__webpack_require__.d = function(exports, name, getter) {\\n \\t\\tif(!__webpack_require__.o(exports, name)) {\\n \\t\\t\\tObject.defineProperty(exports, name, {\\n \\t\\t\\t\\tconfigurable: false,\\n \\t\\t\\t\\tenumerable: true,\\n \\t\\t\\t\\tget: getter\\n \\t\\t\\t});\\n \\t\\t}\\n \\t};\\n\\n \\t// define __esModule on exports\\n \\t__webpack_require__.r = function(exports) {\\n \\t\\tObject.defineProperty(exports, '__esModule', { value: true });\\n \\t};\\n\\n \\t// getDefaultExport function for compatibility with non-harmony modules\\n \\t__webpack_require__.n = function(module) {\\n \\t\\tvar getter = module && module.__esModule ?\\n \\t\\t\\tfunction getDefault() { return module['default']; } :\\n \\t\\t\\tfunction getModuleExports() { return module; };\\n \\t\\t__webpack_require__.d(getter, 'a', getter);\\n \\t\\treturn getter;\\n \\t};\\n\\n \\t// Object.prototype.hasOwnProperty.call\\n \\t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\\n\\n \\t// __webpack_public_path__\\n \\t__webpack_require__.p = \\\"\\\";\\n\\n\\n \\t// Load entry module and return exports\\n \\treturn __webpack_require__(__webpack_require__.s = 0);\\n\",\"\\nconst jsonConversion = require('../dist/jsonConversion.js');\\n\\n\\nvar CENTRAL_DEPTH_LEVEL = 0;\\n\\n//  var ActorFinal = function (id, fullName, baptismDate, birthYear, birthPlace, deathYear, gender, occupation, firstAppearance, firstParent, secondParent, spouse, firstGodParent, secondGodParent, offSpringList) {\\n//     this.ID = id;\\n//     this.firstName = firstName;\\n//     this.lastName = lastName;\\n//     this.fullName = fullName;\\n//     this.baptismDate = baptismDate;\\n//     this.birthYear = birthYear;\\n//     this.birthPlace = birthPlace;\\n//     this.deathYear = deathYear;\\n//     this.gender = gender;\\n//     this.occupation = occupation;\\n//     this.firstAppearance = firstAppearance;\\n//     this.firstParent = firstParent;\\n//     this.secondParent = secondParent;\\n//     this.firstGodParent = firstGodParent;\\n//     this.secondGodParent = secondGodParent;\\n//     this.offSpringList = offSpringList;\\n//\\n//     this.spouse = spouse;\\n// };\\n\\n\\n\\n\\nvar Tie = function (source, target, tieType, tieStartYear, tieEndYear) {\\n    this.source = source;\\n    this.target = target;\\n    this.tieType = tieType;\\n    this.tieStartYear = tieStartYear;\\n    this.tieEndYear = tieEndYear;\\n};\\n\\nvar tieList = [];\\n\\n\\nvar simulation;\\nvar svg = d3.select(\\\"svg\\\"),\\n    width = +svg.attr(\\\"width\\\"),\\n    height = +svg.attr(\\\"height\\\");\\n\\nvar color = d3.scaleOrdinal(d3.schemeCategory20);\\n\\n\\n\\nfunction createParentsUnionNode(actor) {\\n    var firstParentToMarriageTie, secondParentToMarriageTie;\\n\\n    var firstParentID = relativeIDToString(actor.firstParent);\\n    var secondParentID = relativeIDToString(actor.secondParent);\\n\\n    var parentsMarriageNode = new Node(firstParentID + \\\"+\\\" + secondParentID);\\n    pushActorToList(parentsMarriageNode);\\n\\n    if (firstParentID.length > 0) {\\n        firstParentToMarriageTie = new Tie(firstParentID, parentsMarriageNode.ID);\\n    }\\n    if (secondParentID.length > 0) {\\n        secondParentToMarriageTie = new Tie(secondParentID, parentsMarriageNode.ID);\\n    }\\n\\n    var marriageToCentralActorTie = new Tie(parentsMarriageNode.ID, actor.ID);\\n\\n    tieList.push(firstParentToMarriageTie, secondParentToMarriageTie, marriageToCentralActorTie);\\n\\n}\\n\\nfunction createCentralActorUnionNode(actor) {\\n\\n    var actorSpouseID = relativeIDToString(actor.spouse);\\n    var actorMarriageNode = new Node(actor.ID + \\\"+\\\" + actorSpouseID);\\n    pushActorToList(actorMarriageNode);\\n    var actorToMarriageTie = new Tie(actor.ID, actorMarriageNode.ID);\\n    tieList.push(actorToMarriageTie);\\n\\n    if (actor.spouse) {\\n        var spouseToMarriageTie = new Tie(actor.spouse.ID, actorMarriageNode.ID);\\n        tieList.push(spouseToMarriageTie);\\n    }\\n\\n    if (actor.offSpringList) {\\n        for (var i = 0; i < actor.offSpringList.length; i++) {\\n            var marriageToOffspringTie = new Tie(actorMarriageNode.ID, actor.offSpringList[i].ID);\\n            tieList.push(marriageToOffspringTie);\\n        }\\n\\n\\n    }\\n}\\n\\nfunction relativeIDToString(relative) {\\n    var relativeID = null;\\n    if (relative)\\n        relativeID = relative.ID;\\n    else relativeID = \\\"\\\";\\n    return relativeID;\\n\\n}\\n\\n\\nfunction getCentralActor(id) {\\n    var thisChild = {},\\n        thisGrandChild = {};\\n    var centralActor = jsonConversion.getActorData(id);\\n    if (centralActor.offSpringList) {\\n        for (var i = 0; i < centralActor.offSpringList.length; i++) {\\n            thisChild = jsonConversion.getActorData(centralActor.offSpringList[i].ID);\\n\\n            if (thisChild.offSpringList) {\\n                for (var j = 0; j < thisChild.offSpringList.length; j++) {\\n                    thisGrandChild = jsonConversion.getActorData(thisChild.offSpringList[j].ID);\\n                    assignOriginParentNodeToChild(thisGrandChild, thisChild);\\n                    thisChild.offSpringList[j] = thisGrandChild;\\n                }\\n            }\\n            assignOriginParentNodeToChild(thisChild, centralActor);\\n            centralActor.offSpringList[i] = thisChild;\\n        }\\n    }\\n\\n\\n    console.log(centralActor);\\n}\\n\\nfunction assignOriginParentNodeToChild(actor, originParent) {\\n\\n    if (actor.firstParent.ID = originParent.ID) {\\n        actor.firstParent = originParent;\\n    }\\n    else if (actor.secondParent.ID = originParent.ID) {\\n        actor.secondParent = originParent;\\n    }\\n\\n}\\n\\n\\n\\nfunction drawGraph(nodes, links) {\\n\\n    var graph = {};\\n    graph[\\\"nodes\\\"] = nodes;\\n    graph[\\\"links\\\"] = links;\\n\\n    simulation = d3.forceSimulation()\\n        .force(\\\"link\\\", d3.forceLink().id(function (d) {\\n            return \\\"\\\" + d.ID;\\n        }))\\n        .force(\\\"charge\\\", d3.forceManyBody().strength(-250))\\n        .force(\\\"center\\\", d3.forceCenter(width / 2, height / 2));\\n\\n\\n    // graph.nodes.filter(function (d) {\\n    //     if (d.type === \\\"root\\\") {\\n    //         d.fx = 100;\\n    //     }\\n    //     else if (d.type === \\\"leaf\\\") {\\n    //         d.fx = 500;\\n    //     }\\n    //\\n    // });\\n\\n    var link = svg.append(\\\"g\\\")\\n        .attr(\\\"class\\\", \\\"links\\\")\\n        .selectAll(\\\"line\\\")\\n        .data(graph.links)\\n        .enter().append(\\\"line\\\");\\n\\n    var node = svg.append(\\\"g\\\")\\n        .attr(\\\"class\\\", \\\"nodes\\\")\\n        .selectAll(\\\"g\\\")\\n        .data(graph.nodes)\\n        .enter().append(\\\"g\\\");\\n\\n\\n    var rectangle = node.append(\\\"rect\\\")\\n        .attr(\\\"width\\\", function (d) {\\n            if (d.isActor) {\\n                return 60;\\n            }\\n            else return 0;\\n        })\\n        .attr(\\\"height\\\", 6)\\n        .attr(\\\"x\\\", -15)\\n        .attr(\\\"y\\\", -3)\\n        .attr('fill', 'white')\\n        .attr('stroke', 'black')\\n        .call(d3.drag()\\n            .on(\\\"start\\\", dragstarted)\\n            .on(\\\"drag\\\", dragged)\\n            .on(\\\"end\\\", dragended));\\n\\n    var labels = node.append(\\\"text\\\")\\n        .text(function (d) {\\n            if (d.isActor)\\n                return d.fullName;\\n        })\\n        .attr('x', -10)\\n        .attr('y', -10);\\n\\n\\n    simulation\\n        .nodes(graph.nodes)\\n        .on(\\\"tick\\\", ticked);\\n\\n    simulation.force(\\\"link\\\")\\n        .links(graph.links);\\n\\n    function ticked() {\\n        link\\n            .attr(\\\"x1\\\", function (d) {\\n                return d.source.x;\\n            })\\n            .attr(\\\"y1\\\", function (d) {\\n                return d.source.y;\\n            })\\n            .attr(\\\"x2\\\", function (d) {\\n                return d.target.x;\\n            })\\n            .attr(\\\"y2\\\", function (d) {\\n                return d.target.y;\\n            });\\n\\n        node\\n            .attr(\\\"transform\\\", function (d) {\\n                return \\\"translate(\\\" + d.x + \\\",\\\" + d.y + \\\")\\\";\\n            })\\n    }\\n}\\n\\nfunction dragstarted(d) {\\n    if (!d3.event.active) simulation.alphaTarget(0.3).restart();\\n    d.fx = d.x;\\n    d.fy = d.y;\\n\\n}\\n\\nfunction dragged(d) {\\n    d.fx = d3.event.x;\\n    d.fy = d3.event.y;\\n}\\n\\nfunction dragended(d) {\\n    if (!d3.event.active) simulation.alphaTarget(0);\\n    d.fx = null;\\n    d.fy = null;\\n}\\n\\nfunction traverseGraph(actor) {\\n    console.log(actor);\\n\\n    if (actor.offSpringList) {\\n        for (var i = 0; i < actor.offSpringList.length; i++) {\\n            getActors(actor.offSpringList[i].ID);\\n            if (actor.offSpringList[i].offSpringList) {\\n                for (var j = 0; j < actor.offSpringList[i].offSpringList[j]; j++)\\n                    (actor.offSpringList[i].offSpringList[j].depth = CENTRAL_DEPTH_LEVEL - 2);\\n            }\\n            actor.offSpringList[i].depth = CENTRAL_DEPTH_LEVEL - 1;\\n\\n            // console.log(getActors(actor.offSpringList[i].ID));\\n\\n        }\\n    }\\n    actor.depth = CENTRAL_DEPTH_LEVEL;\\n\\n    if (actor.firstParent) {\\n        // getActors(actor.firstParent.ID);\\n    }\\n\\n\\n}\\n\\nfunction checkNode(a) {\\n\\n    if (a.offSpringList) {\\n        // checkNode(a.offSpringList)\\n    }\\n    a.traversed = true;\\n\\n}\\n\\n\\n// getActors(4);\\n// getActors(42);\\n// getActors(480);\\n\\nvar centralActor = getCentralActor(\\\"490\\\");\\n\\n// traverseGraph(centralActor);\\n\\n\\nconsole.log(nodeList);\\ndrawGraph(nodeList, tieList);\\n\\n\"]}","code":"!function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.r=function(t){Object.defineProperty(t,\"__esModule\",{value:!0})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p=\"\",e(e.s=0)}([function(t,n,e){const r=e(!function(){var t=new Error('Cannot find module \"../dist/jsonConversion.js\"');throw t.code=\"MODULE_NOT_FOUND\",t}());var o,a=[],i=d3.select(\"svg\"),f=+i.attr(\"width\"),c=+i.attr(\"height\");d3.scaleOrdinal(d3.schemeCategory20);function s(t,n){(t.firstParent.ID=n.ID)?t.firstParent=n:(t.secondParent.ID=n.ID)&&(t.secondParent=n)}function l(t){d3.event.active||o.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y}function u(t){t.fx=d3.event.x,t.fy=d3.event.y}function d(t){d3.event.active||o.alphaTarget(0),t.fx=null,t.fy=null}!function(t){var n={},e={},o=r.getActorData(t);if(o.offSpringList)for(var a=0;a<o.offSpringList.length;a++){if((n=r.getActorData(o.offSpringList[a].ID)).offSpringList)for(var i=0;i<n.offSpringList.length;i++)s(e=r.getActorData(n.offSpringList[i].ID),n),n.offSpringList[i]=e;s(n,o),o.offSpringList[a]=n}console.log(o)}(\"490\");console.log(nodeList),function(t,n){var e={};e.nodes=t,e.links=n,o=d3.forceSimulation().force(\"link\",d3.forceLink().id(function(t){return\"\"+t.ID})).force(\"charge\",d3.forceManyBody().strength(-250)).force(\"center\",d3.forceCenter(f/2,c/2));var r=i.append(\"g\").attr(\"class\",\"links\").selectAll(\"line\").data(e.links).enter().append(\"line\"),a=i.append(\"g\").attr(\"class\",\"nodes\").selectAll(\"g\").data(e.nodes).enter().append(\"g\");a.append(\"rect\").attr(\"width\",function(t){return t.isActor?60:0}).attr(\"height\",6).attr(\"x\",-15).attr(\"y\",-3).attr(\"fill\",\"white\").attr(\"stroke\",\"black\").call(d3.drag().on(\"start\",l).on(\"drag\",u).on(\"end\",d)),a.append(\"text\").text(function(t){if(t.isActor)return t.fullName}).attr(\"x\",-10).attr(\"y\",-10),o.nodes(e.nodes).on(\"tick\",function(){r.attr(\"x1\",function(t){return t.source.x}).attr(\"y1\",function(t){return t.source.y}).attr(\"x2\",function(t){return t.target.x}).attr(\"y2\",function(t){return t.target.y}),a.attr(\"transform\",function(t){return\"translate(\"+t.x+\",\"+t.y+\")\"})}),o.force(\"link\").links(e.links)}(nodeList,a)}]);","extractedComments":[]}